---
title: "Modeling and Forecasting Daily Electricity Load"
subtitle: "IDI II"
author: "Pablo Benavides-Herrera"
date: "2019-11-15"
output: 
  html_notebook:
    toc: TRUE
    toc_float: TRUE
    theme: cerulean
    highlight: tango
---

We use the data provided by CENACE regarding the daily electricity load for the western regional control management (GCROC,for its initials in Spanish).

# Initial setup

Here we load the required packages, define functions and load and wrangle the data.

## Packages

```{r pkgs, message=FALSE}
library(tidyverse) # call to the tidyverse packages
# library(pracma) # 
# library(xtable)
library(plotly) # interactive plots
library(tsibble) # tidy time series tibbles
library(fable) # time series tidy modeling and forecasting
# library(cowplot)
# library(withr) # change global options, locally
# library(cluster) # for cluster analysis
# library(factoextra) # cluster visualization
```

## Functions to be used

Defining a MAPE function to be used.

```{r fun - mape}
mape <- function(y=consumo,y_hat){
  mape = abs((y-y_hat)/y)*100
  return(mape)
}
```

## The data

The main data to be used is the daily load.
```{r data - load}
# Main data
datos <- read_csv('gcroc.csv')

```

We also load data regarding holidays and special events.
```{r data - holidays}

```

